[
  {
    "id": "cmi2cbfy40000jie4wxi80f4u",
    "name": "Sistema Multi-Cl√≠nica Din√¢mico",
    "description": "Workflow completo que carrega dados de cl√≠nicas, conv√™nios e procedimentos diretamente do banco de dados",
    "type": "CONSULTATION",
    "config": {
      "nodes": [
        {
          "id": "start",
          "type": "START",
          "position": {
            "x": 100,
            "y": 200
          },
          "data": {
            "message": "Ol√°! Seja bem-vindo(a) √† nossa cl√≠nica. Em qual unidade voc√™ gostaria de ser atendido(a)?"
          }
        },
        {
          "id": "clinic_selection",
          "type": "CONDITION",
          "position": {
            "x": 400,
            "y": 200
          },
          "data": {
            "condition": "clinic_selection",
            "trueMessage": "√ìtima escolha! Agora, em que posso ajudar voc√™?",
            "falseMessage": "Por favor, escolha uma de nossas unidades."
          }
        },
        {
          "id": "gpt_classifier",
          "type": "GPT_RESPONSE",
          "position": {
            "x": 700,
            "y": 200
          },
          "data": {
            "systemPrompt": "Voc√™ √© um classificador de inten√ß√£o simples. Analise a mensagem do usu√°rio e encaminhe para: 1) valores de procedimentos, 2) conv√™nios, 3) localiza√ß√£o, 4) agendamento, 5) falar com atendente."
          }
        },
        {
          "id": "appointment_request",
          "type": "MESSAGE",
          "position": {
            "x": 1000,
            "y": 360
          },
          "data": {
            "message": "Para agendar sua consulta, por favor, me informe:\nüìÖ Data preferencial\nüïê Hor√°rio preferencial\nüìã Tipo de procedimento\nüí≥ Conv√™nio ou particular"
          }
        },
        {
          "id": "appointment_collection",
          "type": "COLLECT_INFO",
          "position": {
            "x": 1300,
            "y": 360
          },
          "data": {
            "fields": [
              "procedure_type",
              "preferred_date",
              "preferred_time",
              "insurance"
            ],
            "message": "Aguarde enquanto processo suas informa√ß√µes..."
          }
        },
        {
          "id": "human_transfer",
          "type": "MESSAGE",
          "position": {
            "x": 1000,
            "y": 480
          },
          "data": {
            "message": "Estou transferindo voc√™ para um de nossos atendentes. Por favor, aguarde um momento."
          }
        },
        {
          "id": "end_conversation",
          "type": "END",
          "position": {
            "x": 1900,
            "y": 200
          },
          "data": {
            "message": "Obrigado por entrar em contato! Se precisar de mais alguma coisa, estarei aqui. Tenha um √≥timo dia!"
          }
        },
        {
          "id": "tmpl_prices",
          "type": "MESSAGE",
          "position": {
            "x": 1000,
            "y": 0
          },
          "data": {
            "message": "üí∞ Valores de Procedimentos\n\nProcedimento: ${procedimento_x}\nValor: ${valor_procedimento}\nDura√ß√£o: ${duracao_procedimento}\nObserva√ß√µes: ${observacao_procedimento}\n\nDeseja agendar este procedimento ou saber sobre outro?"
          }
        },
        {
          "id": "tmpl_insurance",
          "type": "MESSAGE",
          "position": {
            "x": 1000,
            "y": 120
          },
          "data": {
            "message": "Confirmamos que atendemos ao seu conv√™nio ${convenio_x}.\n\nSeu convenio cobre estes procedimentos com a gente:\n\n1. ${procedimento_1}\n2. ${procedimento_2}\n3. ${procedimento_3}\n\nPosso auxiliar com mais alguma informa√ß√£o ou esclarecimento adicional sobre este processo?"
          }
        },
        {
          "id": "tmpl_location",
          "type": "MESSAGE",
          "position": {
            "x": 1000,
            "y": 240
          },
          "data": {
            "message": "üìç Localiza√ß√£o e Hor√°rios\n\nUnidade: ${unidade_nome}\nEndere√ßo: ${endereco}\nHor√°rio de atendimento: ${horario_atendimento}\nContato: ${telefone}\nMapa: ${maps_url}\n\nPosso ajudar com mais alguma informa√ß√£o?"
          }
        }
      ],
      "edges": [
        {
          "id": "start_to_clinic",
          "source": "start",
          "target": "clinic_selection",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "output"
          }
        },
        {
          "id": "classifier_to_procedure",
          "source": "gpt_classifier",
          "target": "tmpl_prices",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "1"
          }
        },
        {
          "id": "classifier_to_insurance",
          "source": "gpt_classifier",
          "target": "tmpl_insurance",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "2"
          }
        },
        {
          "id": "classifier_to_location",
          "source": "gpt_classifier",
          "target": "tmpl_location",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "3"
          }
        },
        {
          "id": "classifier_to_appointment",
          "source": "gpt_classifier",
          "target": "appointment_request",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "4"
          }
        },
        {
          "id": "classifier_to_human",
          "source": "gpt_classifier",
          "target": "human_transfer",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "5"
          }
        },
        {
          "id": "appointment_to_collection",
          "source": "appointment_request",
          "target": "appointment_collection",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "output"
          }
        },
        {
          "id": "tmpl_prices_to_classifier",
          "source": "tmpl_prices",
          "target": "gpt_classifier",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "output"
          }
        },
        {
          "id": "tmpl_insurance_to_classifier",
          "source": "tmpl_insurance",
          "target": "gpt_classifier",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "output"
          }
        },
        {
          "id": "tmpl_location_to_classifier",
          "source": "tmpl_location",
          "target": "gpt_classifier",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "output"
          }
        },
        {
          "id": "appointment_to_classifier",
          "source": "appointment_collection",
          "target": "gpt_classifier",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "output"
          }
        },
        {
          "id": "human_to_end",
          "source": "human_transfer",
          "target": "end_conversation",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "output"
          }
        },
        {
          "id": "e_clinic_direct_gpt_classifier",
          "source": "clinic_selection",
          "target": "gpt_classifier",
          "type": "smoothstep",
          "animated": false,
          "data": {
            "port": "true"
          }
        }
      ]
    },
    "isActive": true,
    "createdAt": "2025-11-16T23:21:53.788Z",
    "updatedAt": "2025-11-21T16:26:53.865Z"
  }
]